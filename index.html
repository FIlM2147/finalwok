<!DOCTYPE html>
<html>

<head>
  <title>GLB Models Scene</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      cursor: default;
    }

    canvas {
      cursor: crosshair;
    }

    /* Crosshair ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö FPS mode */
    .crosshair {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin: -10px 0 0 -10px;
      pointer-events: none;
      z-index: 1000;
      display: none;
    }

    .crosshair::before,
    .crosshair::after {
      content: '';
      position: absolute;
      background: rgba(255, 255, 255, 0.8);
      box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
    }

    .crosshair::before {
      width: 2px;
      height: 20px;
      left: 9px;
      top: 0;
    }

    .crosshair::after {
      width: 20px;
      height: 2px;
      left: 0;
      top: 9px;
    }

    /* Loading Screen Styles */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at center, #0a0a2e 0%, #000000 70%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      animation: starField 20s linear infinite;
    }

    .loading-screen::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(2px 2px at 20px 30px, #ffffff, transparent),
        radial-gradient(2px 2px at 40px 70px, #ffffff, transparent),
        radial-gradient(1px 1px at 90px 40px, #ffffff, transparent),
        radial-gradient(1px 1px at 130px 80px, #ffffff, transparent),
        radial-gradient(2px 2px at 160px 30px, #ffffff, transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: moveStars 30s linear infinite;
      opacity: 0.8;
    }

    .loading-title {
      font-family: 'Orbitron', 'Arial', monospace;
      font-size: 2.0rem;
      font-weight: bold;
      color: #00ffff;
      text-shadow: 0 0 20px #00ffff, 0 0 40px #0080ff, 0 0 60px #0040ff;
      margin-bottom: 1.5rem;
      animation: glow 2s ease-in-out infinite alternate;
      letter-spacing: 0.15em;
      text-transform: uppercase;
    }

    .loading-subtitle {
      font-family: 'Arial', sans-serif;
      font-size: 1rem;
      color: #ffffff;
      margin-bottom: 2rem;
      opacity: 0.8;
      text-align: center;
      letter-spacing: 0.08em;
    }

    .loading-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 1;
    }

    .loading-bar {
      width: 350px;
      height: 6px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 1rem;
      border: 1px solid #00ffff;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    }

    .loading-progress {
      height: 100%;
      background: linear-gradient(90deg, #00ffff, #0080ff, #00ffff);
      border-radius: 10px;
      width: 0%;
      animation: pulse 1.5s ease-in-out infinite;
      transition: width 0.3s ease;
    }

    .loading-text {
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      color: #00ffff;
      margin-top: 1rem;
      animation: blink 1s linear infinite;
    }

    .loading-percentage {
      font-family: 'Courier New', monospace;
      font-size: 1.3rem;
      color: #ffffff;
      margin-top: 0.5rem;
      text-shadow: 0 0 10px #00ffff;
    }

    .sci-fi-border {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 480px;
      height: 280px;
      border: 2px solid #00ffff;
      border-radius: 10px;
      background: rgba(0, 255, 255, 0.05);
      box-shadow:
        inset 0 0 20px rgba(0, 255, 255, 0.1),
        0 0 20px rgba(0, 255, 255, 0.3);
    }

    .sci-fi-border::before {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 12px;
      animation: borderPulse 2s linear infinite;
    }

    /* Animations */
    @keyframes glow {
      0% {
        text-shadow: 0 0 20px #00ffff, 0 0 40px #0080ff, 0 0 60px #0040ff;
      }

      100% {
        text-shadow: 0 0 30px #00ffff, 0 0 60px #0080ff, 0 0 90px #0040ff;
      }
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.7;
      }
    }

    @keyframes blink {

      0%,
      50% {
        opacity: 1;
      }

      51%,
      100% {
        opacity: 0;
      }
    }

    @keyframes moveStars {
      0% {
        transform: translateY(0px);
      }

      100% {
        transform: translateY(-100px);
      }
    }

    @keyframes starField {
      0% {
        background-position: 0% 0%;
      }

      100% {
        background-position: 0% 100%;
      }
    }

    @keyframes borderPulse {

      0%,
      100% {
        opacity: 0.3;
      }

      50% {
        opacity: 0.8;
      }
    }

    .fade-out {
      animation: fadeOut 1s ease-in-out forwards;
    }

    @keyframes fadeOut {
      0% {
        opacity: 1;
      }

      100% {
        opacity: 0;
        visibility: hidden;
      }
    }

    /* Audio Controls Styles */
    #settingsPanel button {
      font-family: 'Courier New', monospace;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
    }

    #settingsPanel button:hover {
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
      transform: translateY(-2px);
    }

    #settingsPanel button:active {
      transform: translateY(0px);
    }

    /* Environment Buttons */
    .env-btn:hover {
      background: rgba(255, 255, 255, 0.2) !important;
      transform: translateY(-2px);
    }

    /* Track Buttons */
    .track-btn:hover {
      background: rgba(0, 255, 255, 0.2) !important;
      transform: translateY(-1px);
    }

    .active-track {
      box-shadow: 0 0 15px rgba(255, 0, 150, 0.8) !important;
      animation: pulse-track 2s ease-in-out infinite;
    }

    @keyframes pulse-track {

      0%,
      100% {
        box-shadow: 0 0 15px rgba(255, 0, 150, 0.8);
      }

      50% {
        box-shadow: 0 0 25px rgba(255, 0, 150, 1);
      }
    }

    /* Settings Panel Animation */
    #settingsMenu {
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(100%);
      }

      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
  </style>
</head>

<body>
  <!-- Loading Screen -->
  <div id="loadingScreen" class="loading-screen">
    <div class="sci-fi-border"></div>
    <div class="loading-container">
      <div class="loading-title">PORTFOLIO EXPLORER</div>
      <div class="loading-subtitle">Initializing Space Navigation System...</div>
      <div class="loading-bar">
        <div id="loadingProgress" class="loading-progress"></div>
      </div>
      <div id="loadingText" class="loading-text">LOADING GALAXY MAP...</div>
      <div id="loadingPercentage" class="loading-percentage">0%</div>
    </div>
  </div>

  <!-- Audio Elements -->
  <audio id="loadingMusic" loop>
    <source src="https://film2147.github.io/finalwok/ILLSLICK - Kiss.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <audio id="sceneMusic1" loop>
    <source src="https://film2147.github.io/finalwok/ILLSLICK - Kiss.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <audio id="sceneMusic2" loop>
    <source src="https://film2147.github.io/finalwok/ImDavisss - 4 U.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <audio id="sceneMusic3" loop>
    <source src="https://film2147.github.io/finalwok/Lil Uzi Vert - XO Tour Llif.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- Click Effect Sound -->
  <audio id="clickEffect" preload="auto">
    <source src="https://film2147.github.io/finalwok/ClickMinecraft.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- Settings GUI Panel -->
  <div id="settingsPanel" style="position: fixed; top: 10px; right: 10px; z-index: 1000; display: none;">
    <!-- Settings Toggle Button -->
    <button id="settingsToggle"
      style="background: rgba(0,0,0,0.9); color: #00ffff; border: 2px solid #00ffff; padding: 10px 15px; border-radius: 8px; cursor: pointer; font-family: 'Courier New', monospace; font-weight: bold; box-shadow: 0 0 15px rgba(0, 255, 255, 0.4);">
      ‚öôÔ∏è SETTINGS
    </button>

    <!-- Settings Menu -->
    <div id="settingsMenu"
      style="position: absolute; top: 50px; right: 0; width: 300px; background: rgba(0,0,0,0.95); border: 2px solid #00ffff; border-radius: 10px; padding: 20px; display: none; box-shadow: 0 0 20px rgba(0, 255, 255, 0.6);">

      <!-- Day/Night Toggle -->
      <div style="margin-bottom: 20px;">
        <h3
          style="color: #00ffff; margin: 0 0 10px 0; font-family: 'Courier New', monospace; text-shadow: 0 0 10px #00ffff;">
          üåç ENVIRONMENT</h3>
        <div style="display: flex; gap: 10px;">
          <button id="dayMode" class="env-btn"
            style="flex: 1; padding: 8px; background: rgba(255,200,0,0.2); color: #ffcc00; border: 1px solid #ffcc00; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace;">
            ‚òÄÔ∏è DAY
          </button>
          <button id="nightMode" class="env-btn"
            style="flex: 1; padding: 8px; background: rgba(0,50,100,0.3); color: #4488ff; border: 1px solid #4488ff; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace;">
            üåô NIGHT
          </button>
        </div>
      </div>

      <!-- Music Selection -->
      <div style="margin-bottom: 20px;">
        <h3
          style="color: #00ffff; margin: 0 0 10px 0; font-family: 'Courier New', monospace; text-shadow: 0 0 10px #00ffff;">
          üéµ MUSIC PLAYER</h3>

        <!-- Music Control Buttons -->
        <div style="display: flex; gap: 8px; margin-bottom: 15px;">
          <button id="musicToggle"
            style="flex: 2; padding: 8px; background: rgba(0,100,0,0.8); color: white; border: 1px solid #00ff00; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace;">üéµ
            PLAYING</button>
          <button id="volumeDown"
            style="padding: 8px 12px; background: rgba(0,0,0,0.8); color: white; border: 1px solid #00ffff; border-radius: 5px; cursor: pointer;">üîâ</button>
          <button id="volumeUp"
            style="padding: 8px 12px; background: rgba(0,0,0,0.8); color: white; border: 1px solid #00ffff; border-radius: 5px; cursor: pointer;">üîä</button>
        </div>

        <!-- Music Track Selection -->
        <div style="display: flex; flex-direction: column; gap: 8px;">
          <button id="track1" class="track-btn active-track" data-track="1"
            style="padding: 10px; background: rgba(255,0,150,0.3); color: #ff0096; border: 2px solid #ff0096; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace; text-align: left;">
            üéº ILLSLICK - Kiss
          </button>
          <button id="track2" class="track-btn" data-track="2"
            style="padding: 10px; background: rgba(0,0,0,0.6); color: #00ffff; border: 1px solid #00ffff; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace; text-align: left;">
            üéº ImDavisss - 4 U
          </button>
          <button id="track3" class="track-btn" data-track="3"
            style="padding: 10px; background: rgba(0,0,0,0.6); color: #00ffff; border: 1px solid #00ffff; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace; text-align: left;">
            üéº Lil Uzi Vert - XO Tour Llif
          </button>
        </div>

        <!-- Volume Display -->
        <div
          style="margin-top: 10px; color: #00ffff; font-family: 'Courier New', monospace; font-size: 12px; text-align: center;">
          Volume: <span id="volumeDisplay">50%</span>
        </div>
      </div>

      <!-- Controls Instructions -->
      <div style="margin-bottom: 20px;">
        <h3
          style="color: #00ffff; margin: 0 0 10px 0; font-family: 'Courier New', monospace; text-shadow: 0 0 10px #00ffff;">
          üéÆ CONTROLS</h3>
        <div style="color: #ffffff; font-family: 'Courier New', monospace; font-size: 12px; line-height: 1.4;">
          <div style="margin-bottom: 8px;">
            <span style="color: #00ff00;">Left-click + Drag:</span> Rotate around scene
          </div>
          <div style="margin-bottom: 8px;">
            <span style="color: #00ff00;">Scroll:</span> Zoom in/out
          </div>
          <div style="margin-bottom: 8px;">
            <span style="color: #ff6600;">Click Teleport Models:</span> Go to special locations
          </div>
          <div style="margin-bottom: 8px;">
            <span style="color: #ff9900;">Click Back Models:</span> Return to start position
          </div>
        </div>
      </div>

      <!-- Close Button -->
      <button id="closeSettings"
        style="width: 100%; padding: 10px; background: rgba(100,0,0,0.8); color: white; border: 1px solid #ff4444; border-radius: 5px; cursor: pointer; font-family: 'Courier New', monospace;">
        ‚ùå CLOSE
      </button>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/DRACOLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

  <script>
    // Loading Screen Controller
    class LoadingManager {
      constructor() {
        this.loadingScreen = document.getElementById('loadingScreen');
        this.loadingProgress = document.getElementById('loadingProgress');
        this.loadingText = document.getElementById('loadingText');
        this.loadingPercentage = document.getElementById('loadingPercentage');

        this.currentProgress = 0;
        this.targetProgress = 0;
        this.isComplete = false;

        this.loadingMessages = [
          "SCANNING UNIVERSE...",
          "LOADING STELLAR OBJECTS...",
          "INITIALIZING 3D MODELS...",
          "PREPARING NAVIGATION...",
          "CONFIGURING CAMERAS...",
          "LOADING TEXTURES...",
          "ESTABLISHING CONNECTION...",
          "FINAL PREPARATIONS...",
          "READY FOR EXPLORATION!"
        ];

        this.messageIndex = 0;
        this.startLoading();
      }

      startLoading() {
        // Simulate loading progression
        this.updateMessage();
        this.simulateProgress();

        // Update progress bar animation
        this.animateProgress();
      }

      simulateProgress() {
        const intervals = [
          { delay: 500, progress: 15 },
          { delay: 1200, progress: 30 },
          { delay: 2000, progress: 50 },
          { delay: 2800, progress: 70 },
          { delay: 3500, progress: 85 },
          { delay: 4200, progress: 95 },
          { delay: 5000, progress: 100 }
        ];

        intervals.forEach(({ delay, progress }) => {
          setTimeout(() => {
            this.setProgress(progress);
            if (progress < 100) {
              this.messageIndex = Math.min(this.messageIndex + 1, this.loadingMessages.length - 1);
              this.updateMessage();
            }
          }, delay);
        });

        // Complete loading
        setTimeout(() => {
          this.complete();
        }, 5500);
      }

      setProgress(progress) {
        this.targetProgress = progress;
      }

      updateMessage() {
        if (this.messageIndex < this.loadingMessages.length) {
          this.loadingText.textContent = this.loadingMessages[this.messageIndex];
        }
      }

      animateProgress() {
        const animate = () => {
          if (this.currentProgress < this.targetProgress) {
            this.currentProgress += (this.targetProgress - this.currentProgress) * 0.1;

            if (this.targetProgress - this.currentProgress < 0.5) {
              this.currentProgress = this.targetProgress;
            }

            this.loadingProgress.style.width = this.currentProgress + '%';
            this.loadingPercentage.textContent = Math.floor(this.currentProgress) + '%';
          }

          if (!this.isComplete) {
            requestAnimationFrame(animate);
          }
        };

        animate();
      }

      complete() {
        this.isComplete = true;
        this.currentProgress = 100;
        this.targetProgress = 100;
        this.loadingProgress.style.width = '100%';
        this.loadingPercentage.textContent = '100%';
        this.loadingText.textContent = 'INITIALIZATION COMPLETE!';

        // Fade out loading screen
        setTimeout(() => {
          this.loadingScreen.classList.add('fade-out');
          setTimeout(() => {
            this.loadingScreen.style.display = 'none';
            // Initialize the main application here
            console.log('üöÄ Loading complete! Starting 3D scene...');
            // Stop loading music and start scene music
            musicManager.switchToSceneMusic();
            // Show settings panel
            document.getElementById('settingsPanel').style.display = 'block';
            // Initialize Environment Manager
            environmentManager = new EnvironmentManager(scene, dirLight, ambientLight, renderer);
          }, 1000);
        }, 800);
      }
    }

    // Music Manager
    class MusicManager {
      constructor() {
        this.loadingMusic = document.getElementById('loadingMusic');
        this.sceneMusicTracks = [
          document.getElementById('sceneMusic1'),
          document.getElementById('sceneMusic2'),
          document.getElementById('sceneMusic3')
        ];
        this.currentMusic = null;
        this.currentTrack = 1; // Default to first track
        this.isMuted = false;
        this.volume = 0.5; // ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô 50%

        this.trackNames = [
          "ILLSLICK - Kiss",
          "ImDavisss - 4 U",
          "Lil Uzi Vert - XO Tour Llif"
        ];

        this.setupEventListeners();
        this.initializeAudio();
      }

      initializeAudio() {
        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        this.loadingMusic.volume = this.volume;
        this.sceneMusicTracks.forEach(track => {
          track.volume = this.volume;
          track.preload = 'auto';
        });

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ preload
        this.loadingMusic.preload = 'auto';
      }

      setupEventListeners() {
        const musicToggle = document.getElementById('musicToggle');
        const volumeDown = document.getElementById('volumeDown');
        const volumeUp = document.getElementById('volumeUp');
        const trackButtons = document.querySelectorAll('.track-btn');

        musicToggle.addEventListener('click', () => {
          this.toggleMusic();
        });

        volumeDown.addEventListener('click', () => {
          this.adjustVolume(-0.1);
        });

        volumeUp.addEventListener('click', () => {
          this.adjustVolume(0.1);
        });

        // Track selection
        trackButtons.forEach((btn, index) => {
          btn.addEventListener('click', () => {
            this.changeTrack(index + 1);
          });
        });
      }

      async startLoadingMusic() {
        try {
          // ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏° browser policy)
          await this.waitForUserInteraction();

          this.currentMusic = this.loadingMusic;
          await this.loadingMusic.play();
          console.log('üéµ Loading music started');
        } catch (error) {
          console.log('‚ö†Ô∏è Could not play loading music:', error);
        }
      }

      async switchToSceneMusic() {
        try {
          // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏•‡∏á‡πÇ‡∏´‡∏•‡∏î
          if (this.loadingMusic && !this.loadingMusic.paused) {
            this.loadingMusic.pause();
            this.loadingMusic.currentTime = 0;
          }

          // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏•‡∏á‡∏â‡∏≤‡∏Å‡∏ï‡∏≤‡∏° track ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
          if (!this.isMuted) {
            this.currentMusic = this.sceneMusicTracks[this.currentTrack - 1];
            await this.currentMusic.play();
            console.log(`üéµ Scene music started: Track ${this.currentTrack}`);
          }
        } catch (error) {
          console.log('‚ö†Ô∏è Could not play scene music:', error);
        }
      }

      async changeTrack(trackNumber) {
        if (trackNumber < 1 || trackNumber > 3) return;

        // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏•‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
        if (this.currentMusic && !this.currentMusic.paused) {
          this.currentMusic.pause();
          this.currentMusic.currentTime = 0;
        }

        // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô track
        this.currentTrack = trackNumber;

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI
        this.updateTrackSelection();

        // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà mute
        if (!this.isMuted) {
          try {
            this.currentMusic = this.sceneMusicTracks[this.currentTrack - 1];
            await this.currentMusic.play();
            console.log(`üéµ Changed to Track ${trackNumber}: ${this.trackNames[trackNumber - 1]}`);
          } catch (error) {
            console.log('‚ö†Ô∏è Could not play new track:', error);
          }
        }
      }

      updateTrackSelection() {
        const trackButtons = document.querySelectorAll('.track-btn');
        trackButtons.forEach((btn, index) => {
          if (index + 1 === this.currentTrack) {
            btn.classList.add('active-track');
            btn.style.background = 'rgba(255,0,150,0.3)';
            btn.style.color = '#ff0096';
            btn.style.border = '2px solid #ff0096';
          } else {
            btn.classList.remove('active-track');
            btn.style.background = 'rgba(0,0,0,0.6)';
            btn.style.color = '#00ffff';
            btn.style.border = '1px solid #00ffff';
          }
        });
      }

      toggleMusic() {
        const musicToggle = document.getElementById('musicToggle');

        if (this.isMuted) {
          // ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á
          this.isMuted = false;
          if (this.currentMusic) {
            this.currentMusic.play().catch(e => console.log('Cannot play:', e));
          }
          musicToggle.textContent = 'üéµ PLAYING';
          musicToggle.style.backgroundColor = 'rgba(0,100,0,0.8)';
          musicToggle.style.borderColor = '#00ff00';
        } else {
          // ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á
          this.isMuted = true;
          if (this.currentMusic) {
            this.currentMusic.pause();
          }
          musicToggle.textContent = 'üîá MUTED';
          musicToggle.style.backgroundColor = 'rgba(100,0,0,0.8)';
          musicToggle.style.borderColor = '#ff4444';
        }
      }

      adjustVolume(change) {
        this.volume = Math.max(0, Math.min(1, this.volume + change));

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡πÅ‡∏ó‡∏£‡πá‡∏Å
        if (this.loadingMusic) this.loadingMusic.volume = this.volume;
        this.sceneMusicTracks.forEach(track => {
          track.volume = this.volume;
        });

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI
        const volumeDisplay = document.getElementById('volumeDisplay');
        if (volumeDisplay) {
          volumeDisplay.textContent = Math.round(this.volume * 100) + '%';
        }

        console.log('üîä Volume adjusted to:', Math.round(this.volume * 100) + '%');

        // Update button styles based on volume
        const volumeDown = document.getElementById('volumeDown');
        const volumeUp = document.getElementById('volumeUp');

        if (volumeDown) volumeDown.style.opacity = this.volume > 0 ? '1' : '0.5';
        if (volumeUp) volumeUp.style.opacity = this.volume < 1 ? '1' : '0.5';
      }

      async waitForUserInteraction() {
        return new Promise((resolve) => {
          const handleInteraction = () => {
            document.removeEventListener('click', handleInteraction);
            document.removeEventListener('keydown', handleInteraction);
            resolve();
          };

          document.addEventListener('click', handleInteraction);
          document.addEventListener('keydown', handleInteraction);

          // Auto resolve after 3 seconds if no interaction
          setTimeout(resolve, 3000);
        });
      }
    }

    // Sound Effect Manager
    class SoundEffectManager {
      constructor() {
        this.clickEffect = document.getElementById('clickEffect');
        this.volume = 0.6; // ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå 60%
        this.initializeAudio();
      }

      initializeAudio() {
        if (this.clickEffect) {
          this.clickEffect.volume = this.volume;
          this.clickEffect.preload = 'auto';
        }
      }

      async playClickEffect() {
        try {
          if (this.clickEffect) {
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            this.clickEffect.currentTime = 0;
            await this.clickEffect.play();
            console.log('üîä Click effect played');
          }
        } catch (error) {
          console.log('‚ö†Ô∏è Could not play click effect:', error);
        }
      }

      setVolume(volume) {
        this.volume = Math.max(0, Math.min(1, volume));
        if (this.clickEffect) {
          this.clickEffect.volume = this.volume;
        }
      }
    }

    // Environment Manager for Day/Night System
    class EnvironmentManager {
      constructor(scene, dirLight, ambientLight, renderer) {
        this.scene = scene;
        this.dirLight = dirLight;
        this.ambientLight = ambientLight;
        this.renderer = renderer;
        this.isDay = true;

        // Store original settings
        this.daySettings = {
          dirLightColor: 0xffffff,
          dirLightIntensity: 1.5,
          ambientIntensity: 1.0,
          backgroundColor: 0x000011,
          fogColor: 0x000011
        };

        this.nightSettings = {
          dirLightColor: 0x4488ff,
          dirLightIntensity: 0.3,
          ambientIntensity: 0.2,
          backgroundColor: 0x000005,
          fogColor: 0x000008
        };

        this.setupEventListeners();
      }

      setupEventListeners() {
        const dayButton = document.getElementById('dayMode');
        const nightButton = document.getElementById('nightMode');

        dayButton.addEventListener('click', () => {
          this.setDayMode();
        });

        nightButton.addEventListener('click', () => {
          this.setNightMode();
        });
      }

      setDayMode() {
        if (this.isDay) return;

        this.isDay = true;

        // Update lighting
        this.dirLight.color.setHex(this.daySettings.dirLightColor);
        this.dirLight.intensity = this.daySettings.dirLightIntensity;
        this.ambientLight.intensity = this.daySettings.ambientIntensity;

        // Update renderer
        this.renderer.setClearColor(this.daySettings.backgroundColor, 0);

        // Update button states
        this.updateButtonStates();

        console.log('‚òÄÔ∏è Switched to Day Mode');
      }

      setNightMode() {
        if (!this.isDay) return;

        this.isDay = false;

        // Update lighting
        this.dirLight.color.setHex(this.nightSettings.dirLightColor);
        this.dirLight.intensity = this.nightSettings.dirLightIntensity;
        this.ambientLight.intensity = this.nightSettings.ambientIntensity;

        // Update renderer
        this.renderer.setClearColor(this.nightSettings.backgroundColor, 0);

        // Update button states
        this.updateButtonStates();

        console.log('üåô Switched to Night Mode');
      }

      updateButtonStates() {
        const dayButton = document.getElementById('dayMode');
        const nightButton = document.getElementById('nightMode');

        if (this.isDay) {
          // Day mode active
          dayButton.style.background = 'rgba(255,200,0,0.6)';
          dayButton.style.color = '#ffcc00';
          dayButton.style.border = '2px solid #ffcc00';
          dayButton.style.boxShadow = '0 0 15px rgba(255, 204, 0, 0.8)';

          // Night mode inactive
          nightButton.style.background = 'rgba(0,50,100,0.2)';
          nightButton.style.color = '#4488ff';
          nightButton.style.border = '1px solid #4488ff';
          nightButton.style.boxShadow = '0 0 5px rgba(68, 136, 255, 0.3)';
        } else {
          // Night mode active
          nightButton.style.background = 'rgba(0,50,100,0.6)';
          nightButton.style.color = '#4488ff';
          nightButton.style.border = '2px solid #4488ff';
          nightButton.style.boxShadow = '0 0 15px rgba(68, 136, 255, 0.8)';

          // Day mode inactive
          dayButton.style.background = 'rgba(255,200,0,0.2)';
          dayButton.style.color = '#ffcc00';
          dayButton.style.border = '1px solid #ffcc00';
          dayButton.style.boxShadow = '0 0 5px rgba(255, 204, 0, 0.3)';
        }
      }
    }

    // Settings Panel Manager
    class SettingsManager {
      constructor() {
        this.isOpen = false;
        this.setupEventListeners();
      }

      setupEventListeners() {
        const settingsToggle = document.getElementById('settingsToggle');
        const closeSettings = document.getElementById('closeSettings');
        const settingsMenu = document.getElementById('settingsMenu');

        settingsToggle.addEventListener('click', () => {
          this.toggleSettings();
        });

        closeSettings.addEventListener('click', () => {
          this.closeSettings();
        });

        // Close settings when clicking outside
        document.addEventListener('click', (event) => {
          const settingsPanel = document.getElementById('settingsPanel');
          if (!settingsPanel.contains(event.target) && this.isOpen) {
            this.closeSettings();
          }
        });
      }

      toggleSettings() {
        if (this.isOpen) {
          this.closeSettings();
        } else {
          this.openSettings();
        }
      }

      openSettings() {
        const settingsMenu = document.getElementById('settingsMenu');
        settingsMenu.style.display = 'block';
        this.isOpen = true;
      }

      closeSettings() {
        const settingsMenu = document.getElementById('settingsMenu');
        settingsMenu.style.display = 'none';
        this.isOpen = false;
      }
    }

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á instance ‡∏Ç‡∏≠‡∏á managers
    const musicManager = new MusicManager();
    const settingsManager = new SettingsManager();
    const soundEffectManager = new SoundEffectManager();

    // Start loading when page loads
    window.addEventListener('load', () => {
      new LoadingManager();
      // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏•‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö
      musicManager.startLoadingMusic();
    });
  </script>

  <script>
    const renderer = new THREE.WebGLRenderer({
      alpha: true, // ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™
      antialias: true,
    });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.shadowMap.enabled = true;
    renderer.shadowMap.type = THREE.PCFSoftShadowMap;

    // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏ß‡∏Å‡∏≤‡∏®
    renderer.outputEncoding = THREE.sRGBEncoding;
    renderer.toneMapping = THREE.ACESFilmicToneMapping;
    renderer.toneMappingExposure = 0.5; // ‡∏•‡∏î‡∏Ñ‡πà‡∏≤ exposure ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô

    renderer.setClearColor(0x000011, 0); // ‡∏™‡∏µ‡πÄ‡∏Ç‡πâ‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÅ‡∏ó‡∏ô‡∏î‡∏≥‡∏™‡∏ô‡∏¥‡∏ó
    document.body.appendChild(renderer.domElement);

    const scene = new THREE.Scene();
    // ‡πÑ‡∏°‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ scene.background ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ skybox model ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•

    // Camera
    const camera = new THREE.PerspectiveCamera(
      75,
      window.innerWidth / window.innerHeight,
      0.1,
      1000
    );
    // ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡πâ‡∏≤‡∏¢ ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á

    // ‡∏à‡∏∏‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ç‡∏¢‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡πâ‡∏≤‡∏¢ (‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ)
    const cameraPoints = {
      pbrmodelname: { pos: new THREE.Vector3(3, 2, 6), rotY: -Math.PI / 3 },
      sign_bunny: { pos: new THREE.Vector3(-2, 1.5, -3), rotY: Math.PI / 2 },
      sign_base: { pos: new THREE.Vector3(0, 2, 8), rotY: 0 }
    };

    // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏∏‡∏î‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡∏£‡∏≠‡∏ö
    const orbitCenter = new THREE.Vector3(28, 7.5, 1.5);

    // ‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏∏‡∏ô‡∏£‡∏≠‡∏ö‡πÑ‡∏î‡πâ
    camera.position.set(27.5, 8.8, 4.4); // ‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á

    // ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á
    const initialCameraPosition = new THREE.Vector3(27.5, 8.8, 4.4);
    const initialCameraPitch = -9 * Math.PI / 180; // -9 ‡∏≠‡∏á‡∏®‡∏≤ ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô radians
    const initialCameraYaw = -370 * Math.PI / 180; // -370 ‡∏≠‡∏á‡∏®‡∏≤ ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô radians

    // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    camera.rotation.order = 'YXZ';
    camera.rotation.x = initialCameraPitch;
    camera.rotation.y = initialCameraYaw;

    // Replace FPS controls with OrbitControls for normal orbiting
    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏∏‡∏î‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
    controls.target.copy(orbitCenter); // ‡∏´‡∏°‡∏∏‡∏ô‡∏£‡∏≠‡∏ö‡∏à‡∏∏‡∏î (28, 7.5, 1.5)
    controls.enableDamping = true;
    controls.dampingFactor = 0.07;
    controls.enablePan = false; // ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£ pan ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤
    controls.minDistance = 1;
    controls.maxDistance = 200;

    // ‡πÄ‡∏ã‡πá‡∏ï‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡πâ OrbitControls
    controls.update();

    // Variables for camera animation
    let pitch = initialCameraPitch, yaw = initialCameraYaw;

    // ‡∏•‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÅ‡∏™‡∏î‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏≠‡∏≠‡∏Å - ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡πÉ‡∏ô settings ‡πÅ‡∏•‡πâ‡∏ß

    // Light - ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡πÅ‡∏™‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏ß‡∏Å‡∏≤‡∏®‡∏î‡∏π‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
    const ambientLight = new THREE.AmbientLight(0x404040, 1.0); // ‡∏•‡∏î‡∏à‡∏≤‡∏Å 2.0 ‡πÄ‡∏õ‡πá‡∏ô 0.3 ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏ó‡∏≤
    scene.add(ambientLight);
    const dirLight = new THREE.DirectionalLight(0xffffff, 1.5); // ‡∏•‡∏î‡∏à‡∏≤‡∏Å 2.0 ‡πÄ‡∏õ‡πá‡∏ô 0.8
    dirLight.position.set(-2.7, 29.2, 80.5);
    dirLight.castShadow = true;
    scene.add(dirLight);

    // Create Environment Manager
    let environmentManager;

    // Add ground plane with texture
    const groundTexture = new THREE.TextureLoader().load(
      "https://film2147.github.io/modelwork3/asphalt-road-texture-dark-gray-color_1017-20231.jpg"
    );
    groundTexture.wrapS = THREE.RepeatWrapping;
    groundTexture.wrapT = THREE.RepeatWrapping;
    groundTexture.repeat.set(1, 1);

    // Create ground plane
    const groundGeo = new THREE.PlaneGeometry(30, 30);
    const groundMat = new THREE.MeshStandardMaterial({
      map: groundTexture,
      roughness: 0.8,
      metalness: 0.2,
    });

    const ground = new THREE.Mesh(groundGeo, groundMat);
    ground.rotation.x = -Math.PI / 2;
    ground.position.y = 0;
    ground.receiveShadow = true;
    scene.add(ground);

    // Removed GUI Controls for lighting

    // --- Load GLB Models ---

    // Setup DRACO decoder for compressed GLB files
    const draco = new THREE.DRACOLoader();
    draco.setDecoderPath(
      "https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/libs/draco/"
    );

    // Setup GLTF/GLB loader
    const gltfLoader = new THREE.GLTFLoader();
    gltfLoader.setDRACOLoader(draco);

    // Load GLB Model 1 - Center (‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô)
    gltfLoader.load(
      "https://film2147.github.io/finalwok/shiphallway.glb",
      (gltf) => {
        const model1 = gltf.scene;

        model1.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤‡πÉ‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏•
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false; // ‡∏ã‡πà‡∏≠‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
                console.log("Hidden background mesh in model1:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }
          }
        });

        model1.position.set(0.5, 5.5, 0.5);
        model1.scale.set(1.5, 1.5, 1.5);
        scene.add(model1);
        clickableObjects.push(model1);

        console.log("GLB Model 1 loaded successfully");
        console.log("Clickable objects count:", clickableObjects.length);
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 1 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 1:", error);
      }
    );

    // Load GLB Model 2 - Left
    gltfLoader.load(
      "https://film2147.github.io/finalwok/spacesuit.glb",
      (gltf) => {
        const model2 = gltf.scene;

        model2.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model2:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
          }
        });

        model2.position.set(3.1, 0.0, 5.2); // ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢ ‡∏•‡∏≠‡∏¢‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®
        model2.scale.set(2.5, 2.5, 2.5);
        model2.rotation.y = Math.PI / -1 + Math.PI / -1; // ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

        scene.add(model2);
        clickableObjects.push(model2);

        console.log("GLB Model 2 loaded successfully");
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 2 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 2:", error);
      }
    );

    // Load GLB Model 3 - Right
    gltfLoader.load(
      "https://film2147.github.io/finalwok/atlantis.glb",
      (gltf) => {
        const model3 = gltf.scene;

        model3.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model3:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
          }
        });

        model3.position.set(1.5, 1.5, 1.5); // ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤ ‡∏•‡∏≠‡∏¢‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®
        model3.scale.set(10, 10, 10);
        model3.rotation.y = -Math.PI / 5; // ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
        scene.add(model3);
        clickableObjects.push(model3);
      }
    );

    // Load GLB Model 4 - Back (‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô)
    gltfLoader.load(
      "https://film2147.github.io/finalwok/pbrmaterial.glb",
      (gltf) => {
        const model4 = gltf.scene;

        model4.traverse((child) => {
          if (child.isMesh) {
            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }
          }
        });

        model4.position.set(-5.0, 0.2, 5.8);
        model4.scale.set(0.05, 0.05, 0.05);
        model4.rotation.y = Math.PI; // ‡∏´‡∏°‡∏∏‡∏ô 180 ‡∏≠‡∏á‡∏®‡∏≤

        // ‡πÄ‡∏Å‡πá‡∏ö reference ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á
        window.model4 = model4;

        scene.add(model4);
        clickableObjects.push(model4);

        console.log("GLB Model 4 loaded successfully");
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 4 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 4:", error);
      }
    );
    // Load GLB Model 5 - Skybox Background
    gltfLoader.load(
      "https://film2147.github.io/finalwok/galaxy.glb",
      (gltf) => {
        const model5 = gltf.scene;

        model5.traverse((child) => {
          if (child.isMesh) {
            console.log(
              "Skybox mesh name:",
              child.name,
              "material:",
              child.material?.name
            );

            // Skybox ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ shadow
            child.castShadow = false;
            child.receiveShadow = false;

            if (child.material) {
              // ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏∏‡∏Å mesh ‡πÉ‡∏ô skybox model
              child.material.side = THREE.BackSide; // ‡πÉ‡∏´‡πâ‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏à‡∏≤‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏ô
              child.material.fog = false; // ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÇ‡∏î‡∏¢ fog

              if (child.material.map) {
                child.material.map.encoding = THREE.sRGBEncoding;
                child.material.needsUpdate = true;
              }

              console.log("Skybox mesh visible:", child.name);
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏â‡∏≤‡∏Å
        model5.position.set(0, 0, 0);
        model5.scale.set(500, 500, 500); // ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏â‡∏≤‡∏Å
        scene.add(model5);
        clickableObjects.push(model5);

        console.log("Skybox Model 5 loaded successfully");
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Skybox Model 5 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading Skybox Model 5:", error);
        console.log("Trying alternative skybox method...");

        // ‡∏ñ‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î GLB ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ simple skybox ‡πÅ‡∏ó‡∏ô
        const skyGeometry = new THREE.SphereGeometry(400, 60, 40);
        const skyMaterial = new THREE.MeshBasicMaterial({
          color: 0x000033, // ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏°‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏≠‡∏ß‡∏Å‡∏≤‡∏®
          side: THREE.BackSide,
          fog: false,
        });
        const skybox = new THREE.Mesh(skyGeometry, skyMaterial);
        scene.add(skybox);
        console.log("Fallback skybox created");
      }
    );

    // Load GLB Model 6 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/name.glb",
      (gltf) => {
        const model6 = gltf.scene;

        model6.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model6:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ‡∏•‡∏≠‡∏¢‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®
        model6.position.set(29.9, 61.4, 13.8);
        model6.scale.set(2, 2, 2);
        model6.rotation.y = Math.PI / 6; // ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
        model6.name = 'NameModel6'; // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
        model6.userData = { originalRotationY: Math.PI / 6 }; // ‡πÄ‡∏Å‡πá‡∏ö‡∏°‡∏∏‡∏°‡πÄ‡∏î‡∏¥‡∏°
        scene.add(model6);
        clickableObjects.push(model6);

        console.log("GLB Model 6 loaded successfully");
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 6 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 6:", error);
      }
    );

    // Load GLB Model 7 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/pbrmodel.glb",
      (gltf) => {
        const loadedModel7 = gltf.scene;

        loadedModel7.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö click detection
            if (child.name === "sign1") child.name = "pbrmodelname";
            if (child.name === "sign2") child.name = "pbabouteme";
            if (child.name === "sign3") child.name = "sign_base";

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model7:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }

            console.log("üîç Model7 Mesh:", child.name);
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤‡∏´‡∏•‡∏±‡∏á ‡∏•‡∏≠‡∏¢‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®
        loadedModel7.position.set(27, 5.7, -8.2);
        loadedModel7.scale.set(2, 2, 2);

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ userData ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 7 - ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞
        loadedModel7.userData = {
          isTeleportModel: true,
          targetPosition: { x: 0.0, y: 4.7, z: 13.0 },
          targetPitch: -15 * (Math.PI / 180),   // 0 ‡∏≠‡∏á‡∏®‡∏≤ (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ï‡∏£‡∏á)
          targetYaw: -357 * (Math.PI / 180),   // 169 ‡∏≠‡∏á‡∏®‡∏≤ (‡∏´‡∏±‡∏ô‡∏Ç‡∏ß‡∏≤‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏´‡∏±‡∏ô)
          modelName: 'teleport_model_7'
        };
        loadedModel7.name = 'TeleportModel7';

        // ‡πÄ‡∏Å‡πá‡∏ö reference ‡πÅ‡∏•‡∏∞‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á Y ‡πÄ‡∏î‡∏¥‡∏°
        model7 = loadedModel7;
        baseY_model7 = loadedModel7.position.y;

        scene.add(loadedModel7);
        clickableObjects.push(loadedModel7);

        console.log("GLB Model 7 loaded successfully");
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 7 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 7:", error);
      }

    );

    // Load GLB Model 8 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/back.glb", // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      (gltf) => {
        const backModelTemp = gltf.scene;

        backModelTemp.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö click detection
            console.log("üîç Model8 Mesh:", child.name);

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model8:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }

            // ‚úÖ Initialize emissive properties ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö animation effects
            if (child.material) {
              if (!child.material.emissive) child.material.emissive = new THREE.Color(0x000000);
              if (typeof child.material.emissiveIntensity !== 'number') child.material.emissiveIntensity = 0.0;
              child.material.needsUpdate = true;
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î - ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        backModelTemp.position.set(22.3, 58.2, 18.4); // ‡∏Ç‡∏¢‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢ (‡∏•‡∏î x ‡∏à‡∏≤‡∏Å 29.9 ‡πÄ‡∏õ‡πá‡∏ô 20)
        // ‡∏Ç‡∏¢‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢ (‡∏•‡∏î x ‡∏à‡∏≤‡∏Å 29.9 ‡πÄ‡∏õ‡πá‡∏ô 20)
        backModelTemp.scale.set(3, 3, 3);
        backModelTemp.rotation.y = Math.PI / 6; // ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

        // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏°‡πÄ‡∏î‡∏• 8 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
        backModelTemp.userData = { isBackButton: true, modelName: 'back_model' };
        backModelTemp.name = 'BackButtonModel'; // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠

        // ‡πÄ‡∏Å‡πá‡∏ö reference ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö animation
        model8 = backModelTemp;

        scene.add(backModelTemp);
        clickableObjects.push(backModelTemp);

        console.log("GLB Model 8 (Back Button) loaded successfully");
        console.log("Model 8 userData:", model8.userData);
        console.log("Total clickable objects:", clickableObjects.length);
        console.log("Model 8 index in clickableObjects:", clickableObjects.indexOf(model8));
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 8 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 8:", error);
      }
    );

    // Load GLB Model 9 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/aboutme.glb", // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      (gltf) => {
        const loadedModel9 = gltf.scene;

        loadedModel9.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö click detection
            console.log("üîç Model9 Mesh:", child.name);

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model9:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î - ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        loadedModel9.position.set(27, 3.7, -8.2); // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà
        loadedModel9.scale.set(2, 2, 2);

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ userData ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 9 - ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞
        loadedModel9.userData = {
          isTeleportModel: true,
          targetPosition: { x: 38.1, y: 61.8, z: 42 },
          targetPitch: 3 * (Math.PI / 180), // 3 ‡∏≠‡∏á‡∏®‡∏≤ (‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô radians)
          targetYaw: 40 * (Math.PI / 180),   // 40 ‡∏≠‡∏á‡∏®‡∏≤ (‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô radians)
          modelName: 'teleport_model_9'
        };
        loadedModel9.name = 'TeleportModel9';

        // ‡πÄ‡∏Å‡πá‡∏ö reference ‡πÅ‡∏•‡∏∞‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á Y ‡πÄ‡∏î‡∏¥‡∏°
        model9 = loadedModel9;
        baseY_model9 = loadedModel9.position.y;

        scene.add(loadedModel9);
        clickableObjects.push(loadedModel9);

        console.log("GLB Model 9 loaded successfully");
        console.log("Total clickable objects:", clickableObjects.length);
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) + 100
          : 0;
        console.log(`Model 9 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 9:", error);
      }
    );

    // Load GLB Model 10 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/pic.glb", // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      (gltf) => {
        const model10 = gltf.scene;

        model10.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö click detection
            console.log("üîç Model10 Mesh:", child.name);

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model10:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î - ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        model10.position.set(8.9, 61.8, 22.1); // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢
        model10.scale.set(10, 10, 10);
        model10.rotation.y = Math.PI / 6 + Math.PI / 2 + Math.PI / 6 + Math.PI / 2 + Math.PI / 6 + Math.PI / 5; // ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ userData ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 10 - ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞
        model10.userData = {
          isTeleportModel: true,
          targetPosition: { x: 15.5, y: 2.5, z: 20.8 },
          targetPitch: -10 * (Math.PI / 180), // -10 ‡∏≠‡∏á‡∏®‡∏≤ (‡∏°‡∏≠‡∏á‡∏•‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)
          targetYaw: 90 * (Math.PI / 180),     // 90 ‡∏≠‡∏á‡∏®‡∏≤ (‡∏´‡∏±‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤)
          modelName: 'teleport_model_10'
        };
        model10.name = 'TeleportModel10';

        scene.add(model10);
        clickableObjects.push(model10);

        console.log("GLB Model 10 loaded successfully");
        console.log("Total clickable objects:", clickableObjects.length);
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 10 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 10:", error);
      }
    );

    // Load GLB Model 11 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/back.glb", // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      (gltf) => {
        const model11Temp = gltf.scene;

        model11Temp.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö click detection
            console.log("üîç Model11 Mesh:", child.name);

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model11:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }

            // ‚úÖ Initialize emissive properties ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö animation effects
            if (child.material) {
              if (!child.material.emissive) child.material.emissive = new THREE.Color(0x000000);
              if (typeof child.material.emissiveIntensity !== 'number') child.material.emissiveIntensity = 0.0;
              child.material.needsUpdate = true;
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î - ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        model11Temp.position.set(2.8, 0.4, 7.0); // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á model 7 ‡πÅ‡∏•‡∏∞ model 10
        model11Temp.scale.set(2, 2, 2);
        model11Temp.rotation.y = Math.PI / -1 + Math.PI / -1; // ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ userData ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 11 - ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        model11Temp.userData = {
          isBackButton: true,
          modelName: 'back_model_11'
        };
        model11Temp.name = 'BackButtonModel11';

        // ‡πÄ‡∏Å‡πá‡∏ö reference ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö animation
        model11 = model11Temp;

        scene.add(model11Temp);
        clickableObjects.push(model11Temp);

        console.log("GLB Model 11 loaded successfully");
        console.log("Total clickable objects:", clickableObjects.length);
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 11 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 11:", error);
      }
    );

    // Load GLB Model 12 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/silversurfer.glb", // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      (gltf) => {
        const model12 = gltf.scene;

        model12.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö click detection
            console.log("üîç Model12 Mesh:", child.name);

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model12:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }

            // ‚úÖ Initialize emissive properties ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö animation effects
            if (child.material) {
              if (!child.material.emissive) child.material.emissive = new THREE.Color(0x000000);
              if (typeof child.material.emissiveIntensity !== 'number') child.material.emissiveIntensity = 0.0;
              child.material.needsUpdate = true;
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î - ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        model12.position.set(10.0, 4.2, 0.4); // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà
        model12.scale.set(1.5, 1.5, 1.5);

        // ‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• 12 ‡πÉ‡∏´‡πâ‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
        model12.rotation.order = 'YXZ';
        model12.rotation.y = -192 * (Math.PI / 90); // ‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô yaw (‡∏´‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏£‡∏á)
        model12.rotation.x = 0; // ‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏µ‡∏¢‡∏á pitch (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ï‡∏£‡∏á)

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ userData ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 12
        model12.userData = {
          isInteractable: true,
          modelName: 'model_12'
        };
        model12.name = 'Model12';

        scene.add(model12);
        clickableObjects.push(model12);

        console.log("GLB Model 12 loaded successfully");
        console.log("Model 12 position:", model12.position);
        console.log("Model 12 scale:", model12.scale);
        console.log("Model 12 rotation:", model12.rotation);
        console.log("Total clickable objects:", clickableObjects.length);
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 12 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 12:", error);
      }
    );

    // Load GLB Model 13 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/akira.glb", // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      (gltf) => {
        const model13 = gltf.scene;

        model13.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö click detection
            console.log("üîç Model13 Mesh:", child.name);

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model13:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }

            // ‚úÖ Initialize emissive properties ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö animation effects
            if (child.material) {
              if (!child.material.emissive) child.material.emissive = new THREE.Color(0x000000);
              if (typeof child.material.emissiveIntensity !== 'number') child.material.emissiveIntensity = 0.0;
              child.material.needsUpdate = true;
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î - ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        model13.position.set(2.3, 0.0, 3.1); // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà
        model13.scale.set(2, 2, 2);
        model13.rotation.y = -Math.PI / 2; // ‡∏´‡∏°‡∏∏‡∏ô -60 ‡∏≠‡∏á‡∏®‡∏≤

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ userData ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 13
        model13.userData = {
          isInteractable: true,
          modelName: 'model_13'
        };
        model13.name = 'Model13';

        scene.add(model13);
        clickableObjects.push(model13);

        console.log("GLB Model 13 loaded successfully");
        console.log("Total clickable objects:", clickableObjects.length);
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 13 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 13:", error);
      }
    );

    // Load GLB Model 14 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/bb8.glb", // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      (gltf) => {
        const model14 = gltf.scene;

        model14.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö click detection
            console.log("üîç Model14 Mesh:", child.name);

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model14:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }

            // ‚úÖ Initialize emissive properties ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö animation effects
            if (child.material) {
              if (!child.material.emissive) child.material.emissive = new THREE.Color(0x000000);
              if (typeof child.material.emissiveIntensity !== 'number') child.material.emissiveIntensity = 0.0;
              child.material.needsUpdate = true;
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î - ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        model14.position.set(26.3, 1.1, -5.7); // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á
        model14.scale.set(9.5, 9.5, 9.5);
        model14.rotation.y = Math.PI / 4; // ‡∏´‡∏°‡∏∏‡∏ô 45 ‡∏≠‡∏á‡∏®‡∏≤

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ userData ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 14
        model14.userData = {
          isInteractable: true,
          modelName: 'model_14'
        };
        model14.name = 'Model14';

        scene.add(model14);
        clickableObjects.push(model14);

        console.log("GLB Model 14 loaded successfully");
        console.log("Total clickable objects:", clickableObjects.length);
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 14 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 14:", error);
      }
    );

    // Load GLB Model 15 - Additional Model
    gltfLoader.load(
      "https://film2147.github.io/finalwok/zerotwo.glb", // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      (gltf) => {
        const model15 = gltf.scene;

        model15.traverse((child) => {
          if (child.isMesh) {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö click detection
            console.log("üîç Model15 Mesh:", child.name);

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ï‡∏¥‡∏î‡∏°‡∏≤
            if (child.material && child.material.name) {
              const matName = child.material.name.toLowerCase();
              if (
                matName.includes("background") ||
                matName.includes("sky") ||
                matName.includes("environment") ||
                matName.includes("skybox")
              ) {
                child.visible = false;
                console.log("Hidden background mesh in model15:", child.name);
                return;
              }
            }

            child.castShadow = true;
            child.receiveShadow = true;
            if (child.material && child.material.map) {
              child.material.map.encoding = THREE.sRGBEncoding;
              child.material.needsUpdate = true;
            }

            // ‚úÖ Initialize emissive properties ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö animation effects
            if (child.material) {
              if (!child.material.emissive) child.material.emissive = new THREE.Color(0x000000);
              if (typeof child.material.emissiveIntensity !== 'number') child.material.emissiveIntensity = 0.0;
              child.material.needsUpdate = true;
            }
          }
        });

        // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î - ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        model15.position.set(34.8, 1.1, -5.6); // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤‡∏´‡∏•‡∏±‡∏á ‡∏•‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô
        model15.scale.set(5.0, 5.0, 5.0);
        model15.rotation.y = Math.PI / -6; // ‡∏´‡∏°‡∏∏‡∏ô -60 ‡∏≠‡∏á‡∏®‡∏≤

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ userData ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 15
        model15.userData = {
          isInteractable: true,
          modelName: 'model_15'
        };
        model15.name = 'Model15';

        scene.add(model15);
        clickableObjects.push(model15);

        console.log("GLB Model 15 loaded successfully");
        console.log("Total clickable objects:", clickableObjects.length);
      },
      (progress) => {
        const percent = progress.total
          ? (progress.loaded / progress.total) * 100
          : 0;
        console.log(`Model 15 Loading: ${percent.toFixed(1)}%`);
      },
      (error) => {
        console.error("Error loading GLB Model 15:", error);
      }
    );


    // Removed FPS movement variables

    // üéØ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏•‡∏¥‡∏Å 3D Objects
    const raycaster = new THREE.Raycaster();
    const mouse = new THREE.Vector2();
    const mouseNDC = new THREE.Vector2(0, 0);
    let clickableObjects = []; // ‡πÄ‡∏Å‡πá‡∏ö objects ‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ

    // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö camera animation
    let isAnimating = false;
    const animationDuration = 2000; // 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    let animationStartTime = 0;
    let startPosition = new THREE.Vector3();
    let targetPosition = new THREE.Vector3();
    let startRotation = { pitch: 0, yaw: 0 };
    let targetRotation = { pitch: 0, yaw: 0 };

    // üéØ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô animate ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
    function animateCameraTo(targetPos, targetLookAt = null) {
      if (isAnimating) return; // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ animate ‡∏ã‡πâ‡∏≠‡∏ô

      isAnimating = true;
      animationStartTime = performance.now();

      // ‡∏õ‡∏¥‡∏î OrbitControls ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ animation ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
      controls.enabled = false;

      // ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
      startPosition.copy(camera.position);
      targetPosition.copy(targetPos);

      // ‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
      startRotation.pitch = pitch;
      startRotation.yaw = yaw;

      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
      if (targetLookAt) {
        const direction = new THREE.Vector3().subVectors(targetLookAt, targetPos).normalize();
        targetRotation.yaw = Math.atan2(-direction.x, -direction.z);
        targetRotation.pitch = Math.asin(direction.y);
      } else {
        // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ targetLookAt ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
        targetRotation.pitch = initialCameraPitch;
        targetRotation.yaw = initialCameraYaw;
      }

      console.log(`üéØ Animating camera to: ${targetPos.x}, ${targetPos.y}, ${targetPos.z}`);
    }

    // üéØ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô animate ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∏‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
    function animateCameraToWithFixedAngle(targetPos, fixedPitch, fixedYaw) {
      if (isAnimating) return; // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ animate ‡∏ã‡πâ‡∏≠‡∏ô

      isAnimating = true;
      animationStartTime = performance.now();

      // ‡∏õ‡∏¥‡∏î OrbitControls ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ animation ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
      controls.enabled = false;

      // ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
      startPosition.copy(camera.position);
      targetPosition.copy(targetPos);

      // ‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
      startRotation.pitch = pitch;
      startRotation.yaw = yaw;

      // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏°‡∏∏‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö‡∏•‡πá‡∏≠‡∏Å
      targetRotation.pitch = fixedPitch;
      targetRotation.yaw = fixedYaw;

      console.log(`üéØ Animating camera to: ${targetPos.x}, ${targetPos.y}, ${targetPos.z} with fixed angle: pitch=${fixedPitch.toFixed(2)}, yaw=${fixedYaw.toFixed(2)}`);
    }

    // üéØ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å (Normal mode)
    function onMouseClick(event) {
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏°‡∏≤‡∏™‡πå‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö NDC
      const rect = renderer.domElement.getBoundingClientRect();
      mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
      mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

      // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ raycaster ‡∏à‡∏≤‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏°‡∏≤‡∏™‡πå
      raycaster.setFromCamera(mouse, camera);

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏ô‡∏Å‡∏±‡∏ö objects
      const intersects = raycaster.intersectObjects(clickableObjects, true);

      console.log('üîç Click detected. Clickable objects:', clickableObjects.length);
      console.log('üîç Intersections found:', intersects.length);

      if (intersects.length > 0) {
        const clickedObject = intersects[0].object;
        const clickedPosition = intersects[0].point;

        console.log('üéØ Clicked object:', clickedObject.name || 'unnamed');

        // ‡∏´‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏•‡∏¥‡∏Å (traverse up ‡πÑ‡∏õ‡∏´‡∏≤ parent ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô scene model)
        let parentModel = clickedObject;
        while (parentModel.parent && parentModel.parent !== scene) {
          parentModel = parentModel.parent;
        }

        console.log('üîç Parent model found:', parentModel);
        console.log('üîç Parent userData:', parentModel.userData);

        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏´‡∏ô
        let isBackModel = false;
        let isTeleportModel = false;
        let teleportTarget = null;
        let shouldPlayClickEffect = false;
        let isSpecialModel = false; // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Back Model (Model 8 ‡πÅ‡∏•‡∏∞ 11)
        if (parentModel.userData && parentModel.userData.isBackButton === true) {
          isBackModel = true;
          shouldPlayClickEffect = true;
          isSpecialModel = true;
        } else if (clickedObject.userData && clickedObject.userData.isBackButton === true) {
          isBackModel = true;
          shouldPlayClickEffect = true;
          isSpecialModel = true;
        }

        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Teleport Model (Model 7 ‡πÅ‡∏•‡∏∞ Model 9)
        if (parentModel.userData && parentModel.userData.isTeleportModel === true) {
          isTeleportModel = true;
          teleportTarget = parentModel.userData.targetPosition;
          shouldPlayClickEffect = true;
          isSpecialModel = true;
        } else if (clickedObject.userData && clickedObject.userData.isTeleportModel === true) {
          isTeleportModel = true;
          teleportTarget = clickedObject.userData.targetPosition;
          shouldPlayClickEffect = true;
          isSpecialModel = true;
        }

        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• 7, 8, 9, ‡∏´‡∏£‡∏∑‡∏≠ 11 ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
        const modelNames = ['TeleportModel7', 'BackButtonModel', 'TeleportModel9', 'BackButtonModel11'];
        if (modelNames.includes(parentModel.name) || modelNames.includes(clickedObject.name)) {
          shouldPlayClickEffect = true;
          isSpecialModel = true;
        }

        // ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
        if (!isSpecialModel) {
          console.log('üéØ Regular model clicked - Using OrbitControls for rotation only');
          return; // ‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ï‡πà‡∏≠ ‡πÉ‡∏´‡πâ OrbitControls ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
        }

        // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡πà‡∏ô
        if (shouldPlayClickEffect) {
          soundEffectManager.playClickEffect();
          console.log('üîä Playing click effect for special model');
        }

        console.log('üîç Is back model?', isBackModel);
        console.log('üîç Is teleport model?', isTeleportModel);
        console.log('üîç Teleport target:', teleportTarget);

        if (isBackModel) {
          console.log('üè† ‚úÖ Clicked Back Model (back.glb) - Returning to start position...');
          event.preventDefault(); // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô OrbitControls ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏î‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞
          returnToStartPosition();
        } else if (isTeleportModel && teleportTarget) {
          // ‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÑ‡∏´‡∏ô
          const modelName = (parentModel.userData && parentModel.userData.modelName) ||
            (clickedObject.userData && clickedObject.userData.modelName) ||
            'unknown_teleport_model';
          console.log(`üöÄ ‚úÖ Clicked Teleport Model (${modelName}) - Teleporting to special position...`);
          const targetPos = new THREE.Vector3(teleportTarget.x, teleportTarget.y, teleportTarget.z);

          // ‡πÉ‡∏ä‡πâ‡∏°‡∏∏‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô userData ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
          let targetPitch = 3 * (Math.PI / 180); // ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô 3 ‡∏≠‡∏á‡∏®‡∏≤
          let targetYaw = 40 * (Math.PI / 180);   // ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô 40 ‡∏≠‡∏á‡∏®‡∏≤

          if (parentModel.userData && parentModel.userData.targetPitch !== undefined) {
            targetPitch = parentModel.userData.targetPitch;
            targetYaw = parentModel.userData.targetYaw || 0;
          } else if (clickedObject.userData && clickedObject.userData.targetPitch !== undefined) {
            targetPitch = clickedObject.userData.targetPitch;
            targetYaw = clickedObject.userData.targetYaw || 0;
          }

          console.log(`üéØ Using target angles: pitch=${targetPitch.toFixed(3)}, yaw=${targetYaw.toFixed(3)}`);
          console.log(`üöÄ Teleporting from [${camera.position.x.toFixed(1)}, ${camera.position.y.toFixed(1)}, ${camera.position.z.toFixed(1)}] to [${targetPos.x}, ${targetPos.y}, ${targetPos.z}]`);
          event.preventDefault(); // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô OrbitControls ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏î‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞
          animateCameraToWithFixedAngle(targetPos, targetPitch, targetYaw);
        } else {
          // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÇ‡∏°‡πÄ‡∏î‡∏• 9 ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏°‡∏∏‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• 6)
          if (parentModel.name === 'TeleportModel9' || clickedObject.name === 'TeleportModel9') {
            console.log('üîÑ Clicked Model 9 - Rotating Model 6 back to original position...');

            // ‡∏´‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏• 6 ‡πÉ‡∏ô‡∏â‡∏≤‡∏Å
            const model6 = scene.children.find(child => child.name === 'NameModel6');

            if (model6) {
              // ‡∏´‡∏°‡∏∏‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• 6 ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡πÄ‡∏î‡∏¥‡∏°
              const originalRotation = model6.userData.originalRotationY || Math.PI / 6;
              model6.rotation.y = originalRotation;
              console.log('‚úÖ Model 6 rotated back to original angle:', originalRotation);
            } else {
              console.log('‚ùå Model 6 not found in scene');
            }
          }

          // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡πÄ‡∏•‡∏û‡∏≠‡∏£‡πå‡∏ï ‡πÉ‡∏´‡πâ OrbitControls ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡∏£‡∏≠‡∏ö
          console.log('üéØ Regular model clicked - Let OrbitControls handle rotation');
        }
      }
    }

    // ‡πÄ‡∏û‡∏¥‡πà‡∏° event listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å
    document.addEventListener('click', onMouseClick);

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    function returnToStartPosition() {
      if (isAnimating) return; // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ animate ‡∏ã‡πâ‡∏≠‡∏ô

      console.log('üè† Returning to start position...');
      animateCameraTo(initialCameraPosition, null);

      // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
      setTimeout(() => {
        pitch = initialCameraPitch;
        yaw = initialCameraYaw;
        // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï OrbitControls target ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        controls.target.copy(orbitCenter);
      }, 100); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£ animate ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô
    }



    // üñ±Ô∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏°‡∏≤‡∏™‡πå‡πÅ‡∏ö‡∏ö NDC ‡∏à‡∏≤‡∏Å renderer ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
    function onMouseMove(e) {
      const rect = renderer.domElement.getBoundingClientRect();
      mouseNDC.x = ((e.clientX - rect.left) / rect.width) * 2 - 1;
      mouseNDC.y = -((e.clientY - rect.top) / rect.height) * 2 + 1;
    }

    // ‚úÖ ‡∏ú‡∏π‡∏Å event ‡∏Å‡∏±‡∏ö document ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á FPS ‡πÅ‡∏•‡∏∞ normal mode
    document.addEventListener('mousemove', onMouseMove);



    // üî∏ Event Listeners ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Q ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà
    // Removed WASD/FPS keyboard controls

    // --- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å ---
    let isClicked = false;
    let clickTime = 0;

    // --- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö animation ‡∏™‡∏µ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏á ---
    let time = 0;
    let model4 = null; // ‡πÄ‡∏Å‡πá‡∏ö reference ‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏• 4 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô)
    let model7 = null; // ‡πÄ‡∏Å‡πá‡∏ö reference ‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏• 7
    let isModel7Hovered = false; // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£ hover ‡πÇ‡∏°‡πÄ‡∏î‡∏• 7
    let model8 = null; // ‡πÄ‡∏Å‡πá‡∏ö reference ‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏• 8
    let isModel8Hovered = false; // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£ hover ‡πÇ‡∏°‡πÄ‡∏î‡∏• 8
    let model9 = null; // ‡πÄ‡∏Å‡πá‡∏ö reference ‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏• 9
    let isModel9Hovered = false; // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£ hover ‡πÇ‡∏°‡πÄ‡∏î‡∏• 9
    let model11 = null; // ‡πÄ‡∏Å‡πá‡∏ö reference ‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏• 11
    let isModel11Hovered = false; // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£ hover ‡πÇ‡∏°‡πÄ‡∏î‡∏• 11
    let baseY_model7 = 0;
    let baseY_model9 = 0;

    // Render loop
    function animate() {
      requestAnimationFrame(animate);

      // Update OrbitControls ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ animation
      if (!isAnimating) {
        controls.update();
      }

      // ‚úÖ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì hover ‡∏ó‡∏∏‡∏Å‡πÄ‡∏ü‡∏£‡∏° (‡πÉ‡∏ô Normal mode ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
      updateHoverStates();

      // üéØ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£ animate ‡∏Å‡∏•‡πâ‡∏≠‡∏á
      if (isAnimating) {
        const elapsed = performance.now() - animationStartTime;
        const progress = Math.min(elapsed / animationDuration, 1);

        // Smooth easing function
        const easedProgress = progress * progress * (3 - 2 * progress);

        // Interpolate position
        camera.position.lerpVectors(startPosition, targetPosition, easedProgress);

        // Interpolate rotation
        pitch = startRotation.pitch + (targetRotation.pitch - startRotation.pitch) * easedProgress;
        yaw = startRotation.yaw + (targetRotation.yaw - startRotation.yaw) * easedProgress;

        // Apply rotation
        camera.rotation.order = 'YXZ';
        camera.rotation.y = yaw;
        camera.rotation.x = pitch;

        // ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏Å‡∏≤‡∏£ animate
        if (progress >= 1) {
          isAnimating = false;
          // ‡πÄ‡∏õ‡∏¥‡∏î OrbitControls ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠ animation ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô
          controls.enabled = true;
          // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì target point ‡πÉ‡∏´‡∏°‡πà (‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏≠‡∏á‡πÑ‡∏õ) ‡∏à‡∏≤‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á
          const direction = new THREE.Vector3(0, 0, -1);
          direction.applyQuaternion(camera.quaternion);
          const newTarget = camera.position.clone().add(direction.multiplyScalar(10));
          controls.target.copy(newTarget);
          controls.update();
        }
      }

      // ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß

      // --- ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÄ‡∏ö‡∏≤‡πÜ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å (‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô) ---
      // ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô ‡πÅ‡∏ï‡πà‡πÉ‡∏´‡πâ‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö camera animation

      // --- Animation breath ‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (‡πÇ‡∏°‡πÄ‡∏î‡∏• 8 ‡πÅ‡∏•‡∏∞ ‡πÇ‡∏°‡πÄ‡∏î‡∏• 11) ---
      if (model8 || model11) {
        time += 0.02;

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•
        const applyModelColorEffect = (model, isHovered, baseColor = 0x84C1FF) => {
          model.traverse((child) => {
            if (child.isMesh && child.material) {

              // üé® ‡∏™‡∏µ‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ï‡∏•‡∏≠‡∏î (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢)
              const baseColor = 0x84C1FF; // ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏™‡∏î (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏î‡πâ)

              if (isHovered) {
                // üñ±Ô∏è ‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏™‡πâ‡∏°‡πÅ‡∏î‡∏á‡∏™‡∏î‡πÅ‡∏ö‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥ (‡πÑ‡∏°‡πà‡∏°‡∏µ animation)
                const hoverColor = 0xFF6600; // ‡∏™‡∏µ‡∏™‡πâ‡∏°‡πÅ‡∏î‡∏á‡∏™‡∏î

                // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏µ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
                child.material.color.setHex(hoverColor);

                // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÅ‡∏™‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏á‡∏ó‡∏µ‡πà
                if (child.material.emissive) {
                  child.material.emissive.setHex(0xFF4400); // ‡∏™‡∏µ‡∏™‡πâ‡∏°‡πÄ‡∏Ç‡πâ‡∏°
                  child.material.emissiveIntensity = 0.6; // ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ñ‡∏á‡∏ó‡∏µ‡πà
                }

              } else {
                // ÔøΩ ‡∏™‡∏µ‡∏õ‡∏Å‡∏ï‡∏¥ - breath effect ‡∏Å‡∏±‡∏ö‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

                // Breath effect - ‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏ä‡πâ‡∏≤‡πÜ ‡∏™‡∏á‡∏ö
                const breathIntensity = (Math.sin(time * 1.5) * 0.2 + 0.8); // 0.6-1.0 range

                // ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏µ‡∏ï‡∏≤‡∏° breath intensity
                const r = Math.floor(((baseColor >> 16) & 0xFF) * breathIntensity);
                const g = Math.floor(((baseColor >> 8) & 0xFF) * breathIntensity);
                const b = Math.floor((baseColor & 0xFF) * breathIntensity);
                const breathColor = (r << 16) | (g << 8) | b;

                child.material.color.setHex(breathColor);

                // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÅ‡∏™‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏î‡πâ‡∏ß‡∏¢
                if (child.material.emissive) {
                  // ‡πÉ‡∏ä‡πâ‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÅ‡∏ï‡πà‡πÄ‡∏Ç‡πâ‡∏°‡∏Å‡∏ß‡πà‡∏≤
                  const emissiveR = Math.floor(r * 0.4);
                  const emissiveG = Math.floor(g * 0.4);
                  const emissiveB = Math.floor(b * 0.4);
                  const emissiveColor = (emissiveR << 16) | (emissiveG << 8) | emissiveB;

                  child.material.emissive.setHex(emissiveColor);
                  child.material.emissiveIntensity = breathIntensity * 0.5;
                }
              }

              child.material.needsUpdate = true;
            }
          });
        };

        // ‡πÉ‡∏ä‡πâ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏Å‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 7
        if (model7) {
          applyModelColorEffect(model7, isModel7Hovered, 0x00ffff); // ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏ô‡∏µ‡∏≠‡∏≠‡∏ô
        }

        // ‡πÉ‡∏ä‡πâ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏Å‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 8
        if (model8) {
          applyModelColorEffect(model8, isModel8Hovered, 0x84C1FF); // ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏™‡∏î
        }

        // ‡πÉ‡∏ä‡πâ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏Å‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 9
        if (model9) {
          applyModelColorEffect(model9, isModel9Hovered, 0x00ffff); // ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏ô‡∏µ‡∏≠‡∏≠‡∏ô
        }

        // ‡πÉ‡∏ä‡πâ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 11
        if (model11) {
          applyModelColorEffect(model11, isModel11Hovered, 0x84C1FF); // ‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• 8
        }
      }

      // ÔøΩ ‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• 4 ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤
      if (window.model4) {
        window.model4.rotation.y += 0.01; // ‡∏´‡∏°‡∏∏‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß 0.02 radians ‡∏ï‡πà‡∏≠‡πÄ‡∏ü‡∏£‡∏°
      }

      // ÔøΩüî∏ ‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏â‡∏≤‡∏Å
      updateModel79Interaction(time);
      renderer.render(scene, camera);
    }
    // üõ∏ Hover Float + Ripple Feedback ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Model 7 ‡πÅ‡∏•‡∏∞ 9
    function updateModel79Interaction(time) {
      // ---- Model 7 ----
      if (model7) {
        // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏•‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡∏á‡πÄ‡∏ö‡∏≤ ‡πÜ
        const floatY = Math.sin(time * 2) * 0.2;
        model7.position.y = baseY_model7 + floatY;      // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå ripple ‡πÅ‡∏™‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏ö‡∏ö hologram (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà hover)
        if (!isModel7Hovered) {
          model7.traverse((child) => {
            if (child.isMesh && child.material && child.material.emissive) {
              const ripple = (Math.sin(time * 8 + child.id * 0.5) * 0.5 + 0.5);
              child.material.emissive.setHex(0x00ffff); // ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏ô‡∏µ‡∏≠‡∏≠‡∏ô hologram
              child.material.emissiveIntensity = 0.3 + ripple * 0.7;
            }
          });
        }
      }

      // ---- Model 9 ----
      if (model9) {
        const floatY = Math.sin(time * 2.2) * 0.2;
        model9.position.y = baseY_model9 + floatY;      // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå ripple ‡πÅ‡∏™‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏ö‡∏ö hologram (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà hover)
        if (!isModel9Hovered) {
          model9.traverse((child) => {
            if (child.isMesh && child.material && child.material.emissive) {
              const ripple = (Math.sin(time * 8 + child.id * 0.4) * 0.5 + 0.5);
              child.material.emissive.setHex(0x00ffff);
              child.material.emissiveIntensity = 0.25 + ripple * 0.6;
            }
          });
        }
      }
    }

    function updateHoverStates() {
      // ‚úÖ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô Normal mode ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

      // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏Å‡πá‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ
      if (!model7 && !model8 && !model9 && !model11) return;

      // ‡πÉ‡∏ä‡πâ mouseNDC ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≤‡∏Å mousemove event
      raycaster.setFromCamera(mouseNDC, camera);

      // ‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏ö‡∏ö‡πÅ‡∏¢‡∏Å‡∏ä‡∏¥‡πâ‡∏ô ‡∏ä‡∏±‡∏î ‡πÜ
      let hit7 = false, hit8 = false, hit9 = false, hit11 = false;

      if (model7) {
        const i7 = raycaster.intersectObject(model7, true);
        hit7 = i7.length > 0;
      }
      if (model8) {
        const i8 = raycaster.intersectObject(model8, true);
        hit8 = i8.length > 0;
      }
      if (model9) {
        const i9 = raycaster.intersectObject(model9, true);
        hit9 = i9.length > 0;
      }
      if (model11) {
        const i11 = raycaster.intersectObject(model11, true);
        hit11 = i11.length > 0;
      }

      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï state ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
      const previousModel7Hovered = isModel7Hovered;
      const previousModel8Hovered = isModel8Hovered;
      const previousModel9Hovered = isModel9Hovered;
      const previousModel11Hovered = isModel11Hovered;

      isModel7Hovered = hit7;
      isModel8Hovered = hit8;
      isModel9Hovered = hit9;
      isModel11Hovered = hit11;

      // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô cursor ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô Normal mode (‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏•)
      document.body.style.cursor = (hit7 || hit8 || hit9 || hit11) ? 'pointer' : 'default';

      // Debug log ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô Normal mode)
      if (previousModel7Hovered !== hit7) {
        console.log(`[Normal Mode] Model 7 hover state changed: ${hit7}`);
      }
      if (previousModel8Hovered !== hit8) {
        console.log(`[Normal Mode] Model 8 hover state changed: ${hit8}`);
      }
      if (previousModel9Hovered !== hit9) {
        console.log(`[Normal Mode] Model 9 hover state changed: ${hit9}`);
      }
      if (previousModel11Hovered !== hit11) {
        console.log(`[Normal Mode] Model 11 hover state changed: ${hit11}`);
      }
    }

    animate();
  </script>
</body>

</html>
